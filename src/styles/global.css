@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* ============================================
       极简暖黄配色 - Light Mode
       灵感：复古纸张、温暖阳光、米色调
       ============================================ */

        /* 主背景：温暖的米黄色 */
        --background: 45 30% 96%;
        /* 前景文字：深棕色，柔和不刺眼 */
        --foreground: 30 20% 15%;

        --card: 45 30% 96%;
        --card-foreground: 30 20% 15%;

        --popover: 45 40% 98%;
        --popover-foreground: 30 20% 15%;

        /* 主色调：温暖的琥珀/焦糖色 */
        --primary: 35 80% 35%;
        --primary-foreground: 45 40% 98%;

        /* 次要色：浅米色 */
        --secondary: 40 25% 90%;
        --secondary-foreground: 30 20% 20%;

        /* 静音色：柔和的灰棕 */
        --muted: 40 20% 92%;
        --muted-foreground: 30 10% 45%;

        /* 强调色：淡黄 */
        --accent: 45 40% 88%;
        --accent-foreground: 30 20% 20%;

        --destructive: 0 70% 50%;
        --destructive-foreground: 45 40% 98%;

        /* 边框：淡淡的棕色调 */
        --border: 35 20% 85%;
        --input: 35 20% 85%;
        --ring: 35 80% 35%;

        --radius: 0.25rem;
    }

    .dark {
        /* ============================================
       极简暖黄配色 - Dark Mode
       深邃但温暖的夜间模式
       ============================================ */

        /* 深棕色背景，带一点暖意 */
        --background: 30 15% 8%;
        /* 米白色文字 */
        --foreground: 40 20% 90%;

        --card: 30 15% 10%;
        --card-foreground: 40 20% 90%;

        --popover: 30 15% 10%;
        --popover-foreground: 40 20% 90%;

        /* 主色调：明亮的琥珀色 */
        --primary: 40 85% 55%;
        --primary-foreground: 30 15% 8%;

        --secondary: 30 12% 18%;
        --secondary-foreground: 40 20% 90%;

        --muted: 30 12% 18%;
        --muted-foreground: 35 15% 55%;

        --accent: 35 20% 20%;
        --accent-foreground: 40 20% 90%;

        --destructive: 0 60% 40%;
        --destructive-foreground: 40 20% 90%;

        --border: 30 12% 20%;
        --input: 30 12% 20%;
        --ring: 40 85% 55%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground font-sans antialiased;
        /* 添加微妙的纸张纹理感 */
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
    }

    /* 标题样式 */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-semibold tracking-tight;
    }

    /* 链接默认样式 */
    a {
        @apply transition-colors duration-200;
    }

    /* 选中文字的颜色 */
    ::selection {
        @apply bg-primary/20 text-foreground;
    }
}

/* 代码块样式 - Shiki 代码高亮 */
@layer base {

    /* 代码块容器 */
    pre {
        padding: 1rem !important;
        border-radius: 0.5rem !important;
        overflow-x: auto !important;
        font-size: 0.875rem !important;
        line-height: 1.7 !important;
    }

    /* 代码块内的代码 */
    pre code {
        background: transparent !important;
        padding: 0 !important;
        color: inherit !important;
    }

    /* 行内代码 */
    :not(pre)>code {
        background: hsl(var(--muted)) !important;
        padding: 0.2rem 0.4rem !important;
        border-radius: 0.25rem !important;
        font-size: 0.875em !important;
        color: hsl(var(--primary)) !important;
    }

    /* Shiki 代码块背景 */
    .astro-code,
    .shiki {
        background-color: #1e1e1e !important;
        border: 1px solid hsl(var(--border)) !important;
        border-radius: 0.5rem !important;
    }
}

/* 自定义滚动条（可选，仅 Webkit 浏览器） */
@layer utilities {
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-muted;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-border rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-muted-foreground/50;
    }
}