---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
).slice(0, 5);
---

<Layout class="max-w-2xl">
	<!-- Hero Section -->
	<section class="py-16 md:py-24">
		<p class="text-sm text-muted-foreground mb-4 tracking-wide uppercase">Welcome</p>
		<h1 class="text-3xl md:text-4xl font-bold tracking-tight mb-6 leading-tight">
			Hi, I'm <span class="text-primary">Your Name</span>
		</h1>
		<p class="text-lg text-muted-foreground leading-relaxed">
			A minimalist space for thoughts on technology, design, and life. 
			Writing helps me think clearly.
		</p>
	</section>

	<!-- Divider -->
	<hr class="border-border" />

	<!-- Recent Posts -->
	<section class="py-12">
		<h2 class="text-sm text-muted-foreground mb-8 tracking-wide uppercase">Recent Writing</h2>
		
		<ul class="space-y-8">
			{
				posts.map((post) => (
					<li class="group">
						<a href={`/blog/${post.slug}/`} class="block">
							<article class="flex flex-col gap-2">
								<div class="flex items-baseline justify-between gap-4">
									<h3 class="text-lg font-medium group-hover:text-primary transition-colors">
										{post.data.title}
									</h3>
									<time class="text-sm text-muted-foreground whitespace-nowrap">
										<FormattedDate date={post.data.pubDate} />
									</time>
								</div>
								<p class="text-muted-foreground text-sm line-clamp-2">
									{post.data.description}
								</p>
							</article>
						</a>
					</li>
				))
			}
		</ul>

		<a 
			href="/blog" 
			class="inline-block mt-10 text-sm text-primary hover:underline underline-offset-4"
		>
			View all posts â†’
		</a>
	</section>
</Layout>
